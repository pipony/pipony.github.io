<!DOCTYPE html>






























<html
  class="not-ready text-sm lg:text-base"
  style="--bg: #faf6f1"
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Linux-磁盘管理 - </title>

  
  <meta name="theme-color" />
  
  <meta name="description" content="Linux-磁盘管理 参考 https://blog.csdn.net/weixin_52122271/article/details/126242445 的分类法：
磁盘管理命令：
查看使用量：df, du 查看磁盘分区：fdisk, lsblk 磁盘格式化，挂载/卸载 df df(disk free)：查询文件系统的磁盘占用情况。可显示Linux文件系统上的设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和挂载点信息。
[root@iZbp15qc4wmx335c268l5mZ home]# df Filesystem 1K-blocks Used Available Use% Mounted on devtmpfs 471568 0 471568 0% /dev tmpfs 482068 8 482060 1% /dev/shm tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup /dev/vda1 41152812 21695184 17553920 56% / # 默认情况下，磁盘空间将以1KB为单位进行显示 后接支持的参数，可通过df --help获取
常见用法： # 与df相比，还显示虚拟文件系统的信息以及所有文件系统磁盘使用情况及其内存使用情况。 [root@iZbp15qc4wmx335c268l5mZ home]# df -a Filesystem 1K-blocks Used Available Use% Mounted on sysfs 0 0 0 - /sys proc 0 0 0 - /proc devtmpfs 471568 0 471568 0% /dev securityfs 0 0 0 - /sys/kernel/security tmpfs 482068 8 482060 1% /dev/shm devpts 0 0 0 - /dev/pts tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup cgroup 0 0 0 - /sys/fs/cgroup/systemd pstore 0 0 0 - /sys/fs/pstore cgroup 0 0 0 - /sys/fs/cgroup/devices cgroup 0 0 0 - /sys/fs/cgroup/cpu,cpuacct cgroup 0 0 0 - /sys/fs/cgroup/net_cls,net_prio cgroup 0 0 0 - /sys/fs/cgroup/memory cgroup 0 0 0 - /sys/fs/cgroup/cpuset cgroup 0 0 0 - /sys/fs/cgroup/blkio cgroup 0 0 0 - /sys/fs/cgroup/pids cgroup 0 0 0 - /sys/fs/cgroup/perf_event cgroup 0 0 0 - /sys/fs/cgroup/freezer cgroup 0 0 0 - /sys/fs/cgroup/hugetlb configfs 0 0 0 - /sys/kernel/config /dev/vda1 41152812 21695332 17553772 56% / systemd-1 - - - - /proc/sys/fs/binfmt_misc mqueue 0 0 0 - /dev/mqueue hugetlbfs 0 0 0 - /dev/hugepages debugfs 0 0 0 - /sys/kernel/debug binfmt_misc 0 0 0 - /proc/sys/fs/binfmt_misc tmpfs 96416 0 96416 0% /run/user/0 # 可读形式展现 [root@iZbp15qc4wmx335c268l5mZ home]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 461M 0 461M 0% /dev tmpfs 471M 8." />
  <meta
    name="author"
    content="Cindy.H"
  />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://pipony.github.io/main.min.css" />

  

  
     
  <link rel="preload" as="image" href="http://pipony.github.io/theme.png" />

  
  
  
  

  
  <link rel="preload" as="image" href="http://pipony.github.io/github.svg" />
  
  <link rel="preload" as="image" href="http://pipony.github.io/rss.svg" />
  

  
  <link rel="icon" href="http://pipony.github.io/favicon.ico" />
  <link rel="apple-touch-icon" href="http://pipony.github.io/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.101.0" />

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="Linux-磁盘管理" />
<meta property="og:description" content="Linux-磁盘管理 参考 https://blog.csdn.net/weixin_52122271/article/details/126242445 的分类法：
磁盘管理命令：
查看使用量：df, du 查看磁盘分区：fdisk, lsblk 磁盘格式化，挂载/卸载 df df(disk free)：查询文件系统的磁盘占用情况。可显示Linux文件系统上的设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和挂载点信息。
[root@iZbp15qc4wmx335c268l5mZ home]# df Filesystem 1K-blocks Used Available Use% Mounted on devtmpfs 471568 0 471568 0% /dev tmpfs 482068 8 482060 1% /dev/shm tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup /dev/vda1 41152812 21695184 17553920 56% / # 默认情况下，磁盘空间将以1KB为单位进行显示 后接支持的参数，可通过df --help获取
常见用法： # 与df相比，还显示虚拟文件系统的信息以及所有文件系统磁盘使用情况及其内存使用情况。 [root@iZbp15qc4wmx335c268l5mZ home]# df -a Filesystem 1K-blocks Used Available Use% Mounted on sysfs 0 0 0 - /sys proc 0 0 0 - /proc devtmpfs 471568 0 471568 0% /dev securityfs 0 0 0 - /sys/kernel/security tmpfs 482068 8 482060 1% /dev/shm devpts 0 0 0 - /dev/pts tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup cgroup 0 0 0 - /sys/fs/cgroup/systemd pstore 0 0 0 - /sys/fs/pstore cgroup 0 0 0 - /sys/fs/cgroup/devices cgroup 0 0 0 - /sys/fs/cgroup/cpu,cpuacct cgroup 0 0 0 - /sys/fs/cgroup/net_cls,net_prio cgroup 0 0 0 - /sys/fs/cgroup/memory cgroup 0 0 0 - /sys/fs/cgroup/cpuset cgroup 0 0 0 - /sys/fs/cgroup/blkio cgroup 0 0 0 - /sys/fs/cgroup/pids cgroup 0 0 0 - /sys/fs/cgroup/perf_event cgroup 0 0 0 - /sys/fs/cgroup/freezer cgroup 0 0 0 - /sys/fs/cgroup/hugetlb configfs 0 0 0 - /sys/kernel/config /dev/vda1 41152812 21695332 17553772 56% / systemd-1 - - - - /proc/sys/fs/binfmt_misc mqueue 0 0 0 - /dev/mqueue hugetlbfs 0 0 0 - /dev/hugepages debugfs 0 0 0 - /sys/kernel/debug binfmt_misc 0 0 0 - /proc/sys/fs/binfmt_misc tmpfs 96416 0 96416 0% /run/user/0 # 可读形式展现 [root@iZbp15qc4wmx335c268l5mZ home]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 461M 0 461M 0% /dev tmpfs 471M 8." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://pipony.github.io/post/workspace/01-tech/linux/linux-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-11-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-11-22T00:00:00+00:00" />


  
  <meta itemprop="name" content="Linux-磁盘管理">
<meta itemprop="description" content="Linux-磁盘管理 参考 https://blog.csdn.net/weixin_52122271/article/details/126242445 的分类法：
磁盘管理命令：
查看使用量：df, du 查看磁盘分区：fdisk, lsblk 磁盘格式化，挂载/卸载 df df(disk free)：查询文件系统的磁盘占用情况。可显示Linux文件系统上的设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和挂载点信息。
[root@iZbp15qc4wmx335c268l5mZ home]# df Filesystem 1K-blocks Used Available Use% Mounted on devtmpfs 471568 0 471568 0% /dev tmpfs 482068 8 482060 1% /dev/shm tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup /dev/vda1 41152812 21695184 17553920 56% / # 默认情况下，磁盘空间将以1KB为单位进行显示 后接支持的参数，可通过df --help获取
常见用法： # 与df相比，还显示虚拟文件系统的信息以及所有文件系统磁盘使用情况及其内存使用情况。 [root@iZbp15qc4wmx335c268l5mZ home]# df -a Filesystem 1K-blocks Used Available Use% Mounted on sysfs 0 0 0 - /sys proc 0 0 0 - /proc devtmpfs 471568 0 471568 0% /dev securityfs 0 0 0 - /sys/kernel/security tmpfs 482068 8 482060 1% /dev/shm devpts 0 0 0 - /dev/pts tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup cgroup 0 0 0 - /sys/fs/cgroup/systemd pstore 0 0 0 - /sys/fs/pstore cgroup 0 0 0 - /sys/fs/cgroup/devices cgroup 0 0 0 - /sys/fs/cgroup/cpu,cpuacct cgroup 0 0 0 - /sys/fs/cgroup/net_cls,net_prio cgroup 0 0 0 - /sys/fs/cgroup/memory cgroup 0 0 0 - /sys/fs/cgroup/cpuset cgroup 0 0 0 - /sys/fs/cgroup/blkio cgroup 0 0 0 - /sys/fs/cgroup/pids cgroup 0 0 0 - /sys/fs/cgroup/perf_event cgroup 0 0 0 - /sys/fs/cgroup/freezer cgroup 0 0 0 - /sys/fs/cgroup/hugetlb configfs 0 0 0 - /sys/kernel/config /dev/vda1 41152812 21695332 17553772 56% / systemd-1 - - - - /proc/sys/fs/binfmt_misc mqueue 0 0 0 - /dev/mqueue hugetlbfs 0 0 0 - /dev/hugepages debugfs 0 0 0 - /sys/kernel/debug binfmt_misc 0 0 0 - /proc/sys/fs/binfmt_misc tmpfs 96416 0 96416 0% /run/user/0 # 可读形式展现 [root@iZbp15qc4wmx335c268l5mZ home]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 461M 0 461M 0% /dev tmpfs 471M 8."><meta itemprop="datePublished" content="2022-11-22T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-11-22T00:00:00+00:00" />
<meta itemprop="wordCount" content="2148">
<meta itemprop="keywords" content="Linux," />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux-磁盘管理"/>
<meta name="twitter:description" content="Linux-磁盘管理 参考 https://blog.csdn.net/weixin_52122271/article/details/126242445 的分类法：
磁盘管理命令：
查看使用量：df, du 查看磁盘分区：fdisk, lsblk 磁盘格式化，挂载/卸载 df df(disk free)：查询文件系统的磁盘占用情况。可显示Linux文件系统上的设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和挂载点信息。
[root@iZbp15qc4wmx335c268l5mZ home]# df Filesystem 1K-blocks Used Available Use% Mounted on devtmpfs 471568 0 471568 0% /dev tmpfs 482068 8 482060 1% /dev/shm tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup /dev/vda1 41152812 21695184 17553920 56% / # 默认情况下，磁盘空间将以1KB为单位进行显示 后接支持的参数，可通过df --help获取
常见用法： # 与df相比，还显示虚拟文件系统的信息以及所有文件系统磁盘使用情况及其内存使用情况。 [root@iZbp15qc4wmx335c268l5mZ home]# df -a Filesystem 1K-blocks Used Available Use% Mounted on sysfs 0 0 0 - /sys proc 0 0 0 - /proc devtmpfs 471568 0 471568 0% /dev securityfs 0 0 0 - /sys/kernel/security tmpfs 482068 8 482060 1% /dev/shm devpts 0 0 0 - /dev/pts tmpfs 482068 516 481552 1% /run tmpfs 482068 0 482068 0% /sys/fs/cgroup cgroup 0 0 0 - /sys/fs/cgroup/systemd pstore 0 0 0 - /sys/fs/pstore cgroup 0 0 0 - /sys/fs/cgroup/devices cgroup 0 0 0 - /sys/fs/cgroup/cpu,cpuacct cgroup 0 0 0 - /sys/fs/cgroup/net_cls,net_prio cgroup 0 0 0 - /sys/fs/cgroup/memory cgroup 0 0 0 - /sys/fs/cgroup/cpuset cgroup 0 0 0 - /sys/fs/cgroup/blkio cgroup 0 0 0 - /sys/fs/cgroup/pids cgroup 0 0 0 - /sys/fs/cgroup/perf_event cgroup 0 0 0 - /sys/fs/cgroup/freezer cgroup 0 0 0 - /sys/fs/cgroup/hugetlb configfs 0 0 0 - /sys/kernel/config /dev/vda1 41152812 21695332 17553772 56% / systemd-1 - - - - /proc/sys/fs/binfmt_misc mqueue 0 0 0 - /dev/mqueue hugetlbfs 0 0 0 - /dev/hugepages debugfs 0 0 0 - /sys/kernel/debug binfmt_misc 0 0 0 - /proc/sys/fs/binfmt_misc tmpfs 96416 0 96416 0% /run/user/0 # 可读形式展现 [root@iZbp15qc4wmx335c268l5mZ home]# df -h Filesystem Size Used Avail Use% Mounted on devtmpfs 461M 0 461M 0% /dev tmpfs 471M 8."/>

  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold"
      href="http://pipony.github.io/"
      ></a
    >
    <a
      class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"
    ></a>
  </div>

  <a
    class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
  ></a>

  
  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = `"#faf6f1"`.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/"
        >Home</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/post"
        >Archives</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href=""
        >Tags</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/categories"
        >Categories</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/post/about"
        >About</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/https://github.com/pipony"
        target="_blank"
        rel="me"
      ></a>
      
      <a
        class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="http://pipony.github.io/index.xml"
        target="_blank"
        
      ></a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"
    >
      

<article>
  <header class="mb-20">
    <h1 class="!my-0 pb-2.5">Linux-磁盘管理</h1>

    
    <div class="text-sm opacity-60">
      
      <time>Nov 22, 2022</time>
      
      
      <span class="mx-1">&middot;</span>
      <span>Cindy.H</span>
      
    </div>
    
  </header>

  <section><h1 id="linux-磁盘管理">Linux-磁盘管理</h1>
<p>参考 <a href="https://blog.csdn.net/weixin_52122271/article/details/126242445">https://blog.csdn.net/weixin_52122271/article/details/126242445</a> 的分类法：</p>
<p>磁盘管理命令：</p>
<ul>
<li>查看使用量：df, du</li>
<li>查看磁盘分区：fdisk, lsblk</li>
<li>磁盘格式化，挂载/卸载</li>
</ul>
<h2 id="df">df</h2>
<p>df(disk free)：查询文件系统的<strong>磁盘占用情况</strong>。可显示Linux文件系统上的设备名称、总块数、总磁盘空间、已用磁盘空间、可用磁盘空间和挂载点信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ home<span style="color:#f92672">]</span><span style="color:#75715e"># df</span>
</span></span><span style="display:flex;"><span>Filesystem     1K-blocks     Used Available Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs          <span style="color:#ae81ff">471568</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">471568</span>   0% /dev
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">482060</span>   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>      <span style="color:#ae81ff">516</span>    <span style="color:#ae81ff">481552</span>   1% /run
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">482068</span>   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1       <span style="color:#ae81ff">41152812</span> <span style="color:#ae81ff">21695184</span>  <span style="color:#ae81ff">17553920</span>  56% /
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 默认情况下，磁盘空间将以1KB为单位进行显示</span>
</span></span></code></pre></div><p>后接支持的参数，可通过<code>df --help</code>获取</p>
<h3 id="常见用法">常见用法：</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 与df相比，还显示虚拟文件系统的信息以及所有文件系统磁盘使用情况及其内存使用情况。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ home<span style="color:#f92672">]</span><span style="color:#75715e"># df -a </span>
</span></span><span style="display:flex;"><span>Filesystem     1K-blocks     Used Available Use% Mounted on
</span></span><span style="display:flex;"><span>sysfs                  <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys
</span></span><span style="display:flex;"><span>proc                   <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /proc
</span></span><span style="display:flex;"><span>devtmpfs          <span style="color:#ae81ff">471568</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">471568</span>   0% /dev
</span></span><span style="display:flex;"><span>securityfs             <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/kernel/security
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">482060</span>   1% /dev/shm
</span></span><span style="display:flex;"><span>devpts                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /dev/pts
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>      <span style="color:#ae81ff">516</span>    <span style="color:#ae81ff">481552</span>   1% /run
</span></span><span style="display:flex;"><span>tmpfs             <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">482068</span>   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/systemd
</span></span><span style="display:flex;"><span>pstore                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/pstore
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/devices
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/cpu,cpuacct
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/net_cls,net_prio
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/memory
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/cpuset
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/blkio
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/pids
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/perf_event
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/freezer
</span></span><span style="display:flex;"><span>cgroup                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/fs/cgroup/hugetlb
</span></span><span style="display:flex;"><span>configfs               <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/kernel/config
</span></span><span style="display:flex;"><span>/dev/vda1       <span style="color:#ae81ff">41152812</span> <span style="color:#ae81ff">21695332</span>  <span style="color:#ae81ff">17553772</span>  56% /
</span></span><span style="display:flex;"><span>systemd-1              -        -         -    - /proc/sys/fs/binfmt_misc
</span></span><span style="display:flex;"><span>mqueue                 <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /dev/mqueue
</span></span><span style="display:flex;"><span>hugetlbfs              <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /dev/hugepages
</span></span><span style="display:flex;"><span>debugfs                <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /sys/kernel/debug
</span></span><span style="display:flex;"><span>binfmt_misc            <span style="color:#ae81ff">0</span>        <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>    - /proc/sys/fs/binfmt_misc
</span></span><span style="display:flex;"><span>tmpfs              <span style="color:#ae81ff">96416</span>        <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">96416</span>   0% /run/user/0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 可读形式展现</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ home<span style="color:#f92672">]</span><span style="color:#75715e"># df -h</span>
</span></span><span style="display:flex;"><span>Filesystem      Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs        461M     <span style="color:#ae81ff">0</span>  461M   0% /dev
</span></span><span style="display:flex;"><span>tmpfs           471M  8.0K  471M   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs           471M  516K  471M   1% /run
</span></span><span style="display:flex;"><span>tmpfs           471M     <span style="color:#ae81ff">0</span>  471M   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1        40G   21G   17G  56% /
</span></span><span style="display:flex;"><span>tmpfs            95M     <span style="color:#ae81ff">0</span>   95M   0% /run/user/0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 查看具体某文件夹上的文件系统信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -h /home</span>
</span></span><span style="display:flex;"><span>Filesystem      Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>/dev/vda1        40G   21G   17G  56% /
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看具体磁盘空间的信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -h /dev/vda1</span>
</span></span><span style="display:flex;"><span>Filesystem      Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>/dev/vda1        40G   21G   17G  56% /
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 指定单位的查询，如-k(=1024byte), -m(MB), -BG(GB)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -BG</span>
</span></span><span style="display:flex;"><span>Filesystem     1G-blocks  Used Available Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs              1G    0G        1G   0% /dev
</span></span><span style="display:flex;"><span>tmpfs                 1G    1G        1G   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs                 1G    1G        1G   1% /run
</span></span><span style="display:flex;"><span>tmpfs                 1G    0G        1G   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1            40G   21G       17G  56% /
</span></span><span style="display:flex;"><span>tmpfs                 1G    0G        1G   0% /run/user/0
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 值得注意的是：您可以使用-B或–block size=size选项来提供大小的自定义格式。大小可以是KB（1000）或K（1024）中的一个（或者可以是一个整数，可选后跟）。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. 以K（即1024）为单位显示磁盘空间使用情况：</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># df -k 或 df -BK</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. 以KB（即1000）为单位显示磁盘空间使用情况:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># df -BKB</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 其他单位类似</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 显示inode信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -i</span>
</span></span><span style="display:flex;"><span>Filesystem      Inodes  IUsed   IFree IUse% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs        <span style="color:#ae81ff">117892</span>    <span style="color:#ae81ff">329</span>  <span style="color:#ae81ff">117563</span>    1% /dev
</span></span><span style="display:flex;"><span>tmpfs           <span style="color:#ae81ff">120517</span>      <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">120513</span>    1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs           <span style="color:#ae81ff">120517</span>    <span style="color:#ae81ff">439</span>  <span style="color:#ae81ff">120078</span>    1% /run
</span></span><span style="display:flex;"><span>tmpfs           <span style="color:#ae81ff">120517</span>     <span style="color:#ae81ff">16</span>  <span style="color:#ae81ff">120501</span>    1% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1      <span style="color:#ae81ff">2621440</span> <span style="color:#ae81ff">153635</span> <span style="color:#ae81ff">2467805</span>    6% /
</span></span><span style="display:flex;"><span>tmpfs           <span style="color:#ae81ff">120517</span>      <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">120516</span>    1% /run/user/0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 显示文件系统类型</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -T</span>
</span></span><span style="display:flex;"><span>Filesystem     Type     1K-blocks     Used Available Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs       devtmpfs    <span style="color:#ae81ff">471568</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">471568</span>   0% /dev
</span></span><span style="display:flex;"><span>tmpfs          tmpfs       <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">482060</span>   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs          tmpfs       <span style="color:#ae81ff">482068</span>      <span style="color:#ae81ff">516</span>    <span style="color:#ae81ff">481552</span>   1% /run
</span></span><span style="display:flex;"><span>tmpfs          tmpfs       <span style="color:#ae81ff">482068</span>        <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">482068</span>   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1      ext4      <span style="color:#ae81ff">41152812</span> <span style="color:#ae81ff">21920632</span>  <span style="color:#ae81ff">17328472</span>  56% /
</span></span><span style="display:flex;"><span>tmpfs          tmpfs        <span style="color:#ae81ff">96416</span>        <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">96416</span>   0% /run/user/0
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 最后一行显示总的size大小</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># df --total -h</span>
</span></span><span style="display:flex;"><span>Filesystem      Size  Used Avail Use% Mounted on
</span></span><span style="display:flex;"><span>devtmpfs        461M     <span style="color:#ae81ff">0</span>  461M   0% /dev
</span></span><span style="display:flex;"><span>tmpfs           471M  8.0K  471M   1% /dev/shm
</span></span><span style="display:flex;"><span>tmpfs           471M  516K  471M   1% /run
</span></span><span style="display:flex;"><span>tmpfs           471M     <span style="color:#ae81ff">0</span>  471M   0% /sys/fs/cgroup
</span></span><span style="display:flex;"><span>/dev/vda1        40G   21G   17G  56% /
</span></span><span style="display:flex;"><span>tmpfs            95M     <span style="color:#ae81ff">0</span>   95M   0% /run/user/0
</span></span><span style="display:flex;"><span>total            42G   21G   19G  54% -
</span></span></code></pre></div><h2 id="du">du</h2>
<p>同样是查看磁盘使用量，与<code>df</code>相比，<code>du</code>主要用于对<strong>文件和目录</strong>磁盘使用的空间的查看。同样可以使用<code>du --help</code>查看基本用法。</p>
<h3 id="常见用法-1">常见用法</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 查看本目录下所有的目录大小（包含子、子子目录等）</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ cindy<span style="color:#f92672">]</span><span style="color:#75715e"># du</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">16</span>      ./.ssh
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>       ./1111
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">104</span>     .
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ cindy<span style="color:#f92672">]</span><span style="color:#75715e"># ls -l</span>
</span></span><span style="display:flex;"><span>total <span style="color:#ae81ff">56</span>
</span></span><span style="display:flex;"><span>drwxr-xr-x <span style="color:#ae81ff">2</span> root  root  <span style="color:#ae81ff">4096</span> Nov <span style="color:#ae81ff">29</span> 08:11 <span style="color:#ae81ff">1111</span>
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root  root     <span style="color:#ae81ff">0</span> Apr  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2022</span> 1.txt
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root  root   <span style="color:#ae81ff">529</span> Apr  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2022</span> 2.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy  <span style="color:#ae81ff">127</span> Jul <span style="color:#ae81ff">18</span> 20:55 dump.rdb
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy    <span style="color:#ae81ff">5</span> Aug <span style="color:#ae81ff">22</span> 20:31 good.txt
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root  root     <span style="color:#ae81ff">7</span> Apr <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2022</span> new1.xlsx
</span></span><span style="display:flex;"><span>-rw-r--r-- <span style="color:#ae81ff">1</span> root  root     <span style="color:#ae81ff">8</span> Apr <span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">2022</span> new.word
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">49</span> Aug <span style="color:#ae81ff">22</span> 20:32 out
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy    <span style="color:#ae81ff">3</span> Aug <span style="color:#ae81ff">22</span> 19:01 tee1.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy    <span style="color:#ae81ff">3</span> Aug <span style="color:#ae81ff">22</span> 19:01 tee2.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">12</span> Aug <span style="color:#ae81ff">22</span> 19:00 tee.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">49</span> Jul <span style="color:#ae81ff">16</span> 12:07 testCut.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">21</span> Aug  <span style="color:#ae81ff">2</span> 18:47 testSort.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">16</span> Aug  <span style="color:#ae81ff">6</span> 10:07 testUniq.txt
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy   <span style="color:#ae81ff">10</span> Jul <span style="color:#ae81ff">31</span> 18:47 testWc.txt
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 显示某文件所占磁盘空间</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du data.txt
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>       data.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 显示某文件所占磁盘空间</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du dir
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>       dir
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># -h增加可读性</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -h dir
</span></span><span style="display:flex;"><span>4.0K    dir/dir1
</span></span><span style="display:flex;"><span>4.0K    dir/dir2
</span></span><span style="display:flex;"><span>12K     dir
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -a统计该目录下的所有目录+文件（最后一行是总的目录大小）</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -ah dir
</span></span><span style="display:flex;"><span>4.0K    dir/dir1
</span></span><span style="display:flex;"><span>4.0K    dir/dir2
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>       dir/123
</span></span><span style="display:flex;"><span>12K     dir
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># -s仅统计此目录的大小</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -s dir
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">12</span>      dir
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -c统计多文件/目录的各自大小和总大小</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ dir<span style="color:#f92672">]</span>$ du -c <span style="color:#ae81ff">123</span> <span style="color:#ae81ff">234</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>       <span style="color:#ae81ff">123</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">4</span>       <span style="color:#ae81ff">234</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span>       total
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ dir<span style="color:#f92672">]</span>$ ls -l
</span></span><span style="display:flex;"><span>total <span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy    <span style="color:#ae81ff">6</span> Dec  <span style="color:#ae81ff">5</span> 07:49 <span style="color:#ae81ff">123</span>
</span></span><span style="display:flex;"><span>-rw-rw-r-- <span style="color:#ae81ff">1</span> cindy cindy    <span style="color:#ae81ff">6</span> Dec  <span style="color:#ae81ff">5</span> 07:49 <span style="color:#ae81ff">234</span>
</span></span><span style="display:flex;"><span>drwxrwxr-x <span style="color:#ae81ff">2</span> cindy cindy <span style="color:#ae81ff">4096</span> Dec  <span style="color:#ae81ff">5</span> 07:44 dir1
</span></span><span style="display:flex;"><span>drwxrwxr-x <span style="color:#ae81ff">2</span> cindy cindy <span style="color:#ae81ff">4096</span> Dec  <span style="color:#ae81ff">5</span> 07:44 dir2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 获取目录下所有的目录/文件，并按空间大小排序展示</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -ah | sort -nr
</span></span><span style="display:flex;"><span>132K    .
</span></span><span style="display:flex;"><span>20K     ./dir
</span></span><span style="display:flex;"><span>16K     ./.ssh
</span></span><span style="display:flex;"><span>8.0K    ./.bash_history
</span></span><span style="display:flex;"><span>4.0K    ./.viminfo
</span></span><span style="display:flex;"><span>4.0K    ./testWc.txt
</span></span><span style="display:flex;"><span>4.0K    ./testUniq.txt
</span></span><span style="display:flex;"><span>4.0K    ./testSort.txt
</span></span><span style="display:flex;"><span>4.0K    ./testCut.txt
</span></span><span style="display:flex;"><span>4.0K    ./tee.txt
</span></span><span style="display:flex;"><span>4.0K    ./tee2.txt
</span></span><span style="display:flex;"><span>4.0K    ./tee1.txt
</span></span><span style="display:flex;"><span>4.0K    ./.ssh/id_rsa.pub
</span></span><span style="display:flex;"><span>4.0K    ./.ssh/id_rsa_cindy
</span></span><span style="display:flex;"><span>4.0K    ./.ssh/authorized_keys
</span></span><span style="display:flex;"><span>4.0K    ./.rediscli_history
</span></span><span style="display:flex;"><span>4.0K    ./out
</span></span><span style="display:flex;"><span>4.0K    ./new.word
</span></span><span style="display:flex;"><span>4.0K    ./new1.xlsx
</span></span><span style="display:flex;"><span>4.0K    ./insert.sql
</span></span><span style="display:flex;"><span>4.0K    ./good.txt
</span></span><span style="display:flex;"><span>4.0K    ./dump.rdb
</span></span><span style="display:flex;"><span>4.0K    ./dir/dir2
</span></span><span style="display:flex;"><span>4.0K    ./dir/dir1
</span></span><span style="display:flex;"><span>4.0K    ./dir/234
</span></span><span style="display:flex;"><span>4.0K    ./dir/123
</span></span><span style="display:flex;"><span>4.0K    ./data.txt
</span></span><span style="display:flex;"><span>4.0K    ./.bashrc
</span></span><span style="display:flex;"><span>4.0K    ./.bash_profile
</span></span><span style="display:flex;"><span>4.0K    ./.bash_logout
</span></span><span style="display:flex;"><span>4.0K    ./2.txt
</span></span><span style="display:flex;"><span>4.0K    ./1111
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>       ./1.txt
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 只显示该目录下的直接子目录（不展示子子...目录）</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -h --max-depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>16K     ./.ssh
</span></span><span style="display:flex;"><span>20K     ./dir
</span></span><span style="display:flex;"><span>4.0K    ./1111
</span></span><span style="display:flex;"><span>132K    .
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 对比没加--max-depth=1的</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ du -h
</span></span><span style="display:flex;"><span>16K     ./.ssh
</span></span><span style="display:flex;"><span>4.0K    ./dir/dir1
</span></span><span style="display:flex;"><span>4.0K    ./dir/dir2
</span></span><span style="display:flex;"><span>20K     ./dir
</span></span><span style="display:flex;"><span>4.0K    ./1111
</span></span><span style="display:flex;"><span>132K    .
</span></span></code></pre></div><h2 id="fdisk">fdisk</h2>
<p><code>fdisk</code>是创建和维护磁盘分区表的命令。执行用户需要<code>root</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>cindy@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span>$ fdisk --help
</span></span><span style="display:flex;"><span>fdisk: invalid option -- <span style="color:#e6db74">&#39;-&#39;</span>
</span></span><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span> fdisk <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span> &lt;disk&gt;    change partition table
</span></span><span style="display:flex;"><span> fdisk <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span> -l &lt;disk&gt; list partition table<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> fdisk -s &lt;partition&gt;      give partition size<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> in blocks
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Options:
</span></span><span style="display:flex;"><span> -b &lt;size&gt;             sector size <span style="color:#f92672">(</span>512, 1024, <span style="color:#ae81ff">2048</span> or 4096<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> -c<span style="color:#f92672">[=</span>&lt;mode&gt;<span style="color:#f92672">]</span>           compatible mode: <span style="color:#e6db74">&#39;dos&#39;</span> or <span style="color:#e6db74">&#39;nondos&#39;</span> <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> -h                    print this help text
</span></span><span style="display:flex;"><span> -u<span style="color:#f92672">[=</span>&lt;unit&gt;<span style="color:#f92672">]</span>           display units: <span style="color:#e6db74">&#39;cylinders&#39;</span> or <span style="color:#e6db74">&#39;sectors&#39;</span> <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span> <span style="color:#75715e"># 搭配”-l”参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址</span>
</span></span><span style="display:flex;"><span> -v                    print program version
</span></span><span style="display:flex;"><span> -C &lt;number&gt;           specify the number of cylinders <span style="color:#75715e"># 柱面数</span>
</span></span><span style="display:flex;"><span> -H &lt;number&gt;           specify the number of heads <span style="color:#75715e"># 磁头数</span>
</span></span><span style="display:flex;"><span> -S &lt;number&gt;           specify the number of sectors per track <span style="color:#75715e"># 每个磁道的扇区数</span>
</span></span></code></pre></div><p>理论基础：</p>
<blockquote>
<p>块（block）与扇区（sector）的区别。 扇区是对硬盘而言，扇区是硬盘的最小存储单位，块是对文件系统而言，块是文件系统最小存取单位。一般而言，一个扇区大小为512B，一个块大小为4KB，一个block是由连续的8个sector组成。</p>
<p><a href="https://www.cnblogs.com/joshua317/p/15407969.html">https://www.cnblogs.com/joshua317/p/15407969.html</a></p>
</blockquote>
<h3 id="常见用法-2">常见用法</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk -l</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Disk /dev/vda: 42.9 GB, <span style="color:#ae81ff">42949672960</span> bytes, <span style="color:#ae81ff">83886080</span> sectors
</span></span><span style="display:flex;"><span>Units <span style="color:#f92672">=</span> sectors of <span style="color:#ae81ff">1</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>Disk label type: dos
</span></span><span style="display:flex;"><span>Disk identifier: 0x000bb9c1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Device Boot      Start         End      Blocks   Id  System
</span></span><span style="display:flex;"><span>/dev/vda1   *        <span style="color:#ae81ff">2048</span>    <span style="color:#ae81ff">83886046</span>    41941999+  <span style="color:#ae81ff">83</span>  Linux
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk -lu</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Disk /dev/vda: 42.9 GB, <span style="color:#ae81ff">42949672960</span> bytes, <span style="color:#ae81ff">83886080</span> sectors
</span></span><span style="display:flex;"><span>Units <span style="color:#f92672">=</span> sectors of <span style="color:#ae81ff">1</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>Disk label type: dos
</span></span><span style="display:flex;"><span>Disk identifier: 0x000bb9c1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   Device Boot      Start         End      Blocks   Id  System
</span></span><span style="display:flex;"><span>/dev/vda1   *        <span style="color:#ae81ff">2048</span>    <span style="color:#ae81ff">83886046</span>    41941999+  <span style="color:#ae81ff">83</span>  Linux
</span></span></code></pre></div><pre tabindex="0"><code>#参数说明
Device：分区名称；
Boot：是否是活动分区。活动分区只能是主分区，一个硬盘只能有一个活动的主分区；一个硬盘的主分区与扩展分区总和不能超过4个。硬盘分区遵循着“主分区→扩展分区→逻辑分区”的次序原则，而删除分区则与之相反。
 主分区：一个硬盘可以划分多个主分区，但没必要划分那么多，一个足矣。
 扩展分区：主分区之外的硬盘空间就是扩展分区，
 逻辑分区：是对扩展分区再行划分得到的。
Start：分区柱面的开始下标；
End：分区柱面的结束下标；
Blocks：该分区的块数量。
Id：各种分区的文件系统不同，如有ntfs分区，fat32分区，ext3分区，swap分区等。每一种文件系统都有一个代号，对应这里的Id。常见的文件系统ID有：
 f：FAT32 Extend,只限于扩展分区。
 86：NTFS。
 7：HPFS/NTFS
 b：FAT32。
 83：Linux Ext2。
 82：Linux 交换区。
System：文件系统名称。
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 显示指定device的分区信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk -l /dev/vda1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Disk /dev/vda1: 42.9 GB, <span style="color:#ae81ff">42948607488</span> bytes, <span style="color:#ae81ff">83883999</span> sectors
</span></span><span style="display:flex;"><span>Units <span style="color:#f92672">=</span> sectors of <span style="color:#ae81ff">1</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span><span style="display:flex;"><span>I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># fdisk进入交互模式，进行相关操作</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk /dev/vda1</span>
</span></span><span style="display:flex;"><span>Welcome to fdisk <span style="color:#f92672">(</span>util-linux 2.23.2<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Changes will remain in memory only, <span style="color:#66d9ef">until</span> you decide to write them.
</span></span><span style="display:flex;"><span>Be careful before using the write command.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Device does not contain a recognized partition table
</span></span><span style="display:flex;"><span>Building a new DOS disklabel with disk identifier 0x4b929c62.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Command <span style="color:#f92672">(</span>m <span style="color:#66d9ef">for</span> help<span style="color:#f92672">)</span>: m 
</span></span><span style="display:flex;"><span>Command action
</span></span><span style="display:flex;"><span>   a   toggle a bootable flag
</span></span><span style="display:flex;"><span>   b   edit bsd disklabel
</span></span><span style="display:flex;"><span>   c   toggle the dos compatibility flag
</span></span><span style="display:flex;"><span>   d   delete a partition
</span></span><span style="display:flex;"><span>   g   create a new empty GPT partition table
</span></span><span style="display:flex;"><span>   G   create an IRIX <span style="color:#f92672">(</span>SGI<span style="color:#f92672">)</span> partition table
</span></span><span style="display:flex;"><span>   l   list known partition types
</span></span><span style="display:flex;"><span>   m   print this menu
</span></span><span style="display:flex;"><span>   n   add a new partition
</span></span><span style="display:flex;"><span>   o   create a new empty DOS partition table
</span></span><span style="display:flex;"><span>   p   print the partition table
</span></span><span style="display:flex;"><span>   q   quit without saving changes
</span></span><span style="display:flex;"><span>   s   create a new empty Sun disklabel
</span></span><span style="display:flex;"><span>   t   change a partition<span style="color:#960050;background-color:#1e0010">&#39;</span>s system id
</span></span><span style="display:flex;"><span>   u   change display/entry units
</span></span><span style="display:flex;"><span>   v   verify the partition table
</span></span><span style="display:flex;"><span>   w   write table to disk and exit
</span></span><span style="display:flex;"><span>   x   extra functionality <span style="color:#f92672">(</span>experts only<span style="color:#f92672">)</span>
</span></span></code></pre></div><h2 id="lsblk">lsblk</h2>
<p>lsblk命令可以显示很多跟磁盘相关分区、所属关系以及lvm的重要信息。用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘，闪存盘，cd-ROM等等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk --help</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span> lsblk <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>&lt;device&gt; ...<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Options:
</span></span><span style="display:flex;"><span> -a, --all            print all devices
</span></span><span style="display:flex;"><span> -b, --bytes          print SIZE in bytes rather than in human readable format
</span></span><span style="display:flex;"><span> -d, --nodeps         don<span style="color:#e6db74">&#39;t print slaves or holders
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -D, --discard        print discard capabilities
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -e, --exclude &lt;list&gt; exclude devices by major number (default: RAM disks)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -I, --include &lt;list&gt; show only devices with specified major numbers
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -f, --fs             output info about filesystems
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -h, --help           usage information (this)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -i, --ascii          use ascii characters only
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -m, --perms          output info about permissions
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -l, --list           use list format output
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -n, --noheadings     don&#39;</span>t print headings
</span></span><span style="display:flex;"><span> -o, --output &lt;list&gt;  output columns
</span></span><span style="display:flex;"><span> -p, --paths          print complate device path
</span></span><span style="display:flex;"><span> -P, --pairs          use key<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;value&#34;</span> output format
</span></span><span style="display:flex;"><span> -r, --raw            use raw output format
</span></span><span style="display:flex;"><span> -s, --inverse        inverse dependencies
</span></span><span style="display:flex;"><span> -t, --topology       output info about topology
</span></span><span style="display:flex;"><span> -S, --scsi           output info about SCSI devices
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> -h, --help     display this help and exit
</span></span><span style="display:flex;"><span> -V, --version  output version information and exit
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Available columns <span style="color:#f92672">(</span><span style="color:#66d9ef">for</span> --output<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>        NAME  device name
</span></span><span style="display:flex;"><span>       KNAME  internal kernel device name
</span></span><span style="display:flex;"><span>     MAJ:MIN  major:minor device number
</span></span><span style="display:flex;"><span>      FSTYPE  filesystem type
</span></span><span style="display:flex;"><span>  MOUNTPOINT  where the device is mounted
</span></span><span style="display:flex;"><span>       LABEL  filesystem LABEL
</span></span><span style="display:flex;"><span>        UUID  filesystem UUID
</span></span><span style="display:flex;"><span>   PARTLABEL  partition LABEL
</span></span><span style="display:flex;"><span>    PARTUUID  partition UUID
</span></span><span style="display:flex;"><span>          RA  read-ahead of the device
</span></span><span style="display:flex;"><span>          RO  read-only device
</span></span><span style="display:flex;"><span>          RM  removable device
</span></span><span style="display:flex;"><span>       MODEL  device identifier
</span></span><span style="display:flex;"><span>      SERIAL  disk serial number
</span></span><span style="display:flex;"><span>        SIZE  size of the device
</span></span><span style="display:flex;"><span>       STATE  state of the device
</span></span><span style="display:flex;"><span>       OWNER  user name
</span></span><span style="display:flex;"><span>       GROUP  group name
</span></span><span style="display:flex;"><span>        MODE  device node permissions
</span></span><span style="display:flex;"><span>   ALIGNMENT  alignment offset
</span></span><span style="display:flex;"><span>      MIN-IO  minimum I/O size
</span></span><span style="display:flex;"><span>      OPT-IO  optimal I/O size
</span></span><span style="display:flex;"><span>     PHY-SEC  physical sector size
</span></span><span style="display:flex;"><span>     LOG-SEC  logical sector size
</span></span><span style="display:flex;"><span>        ROTA  rotational device
</span></span><span style="display:flex;"><span>       SCHED  I/O scheduler name
</span></span><span style="display:flex;"><span>     RQ-SIZE  request queue size
</span></span><span style="display:flex;"><span>        TYPE  device type
</span></span><span style="display:flex;"><span>    DISC-ALN  discard alignment offset
</span></span><span style="display:flex;"><span>   DISC-GRAN  discard granularity
</span></span><span style="display:flex;"><span>    DISC-MAX  discard max bytes
</span></span><span style="display:flex;"><span>   DISC-ZERO  discard zeroes data
</span></span><span style="display:flex;"><span>       WSAME  write same max bytes
</span></span><span style="display:flex;"><span>         WWN  unique storage identifier
</span></span><span style="display:flex;"><span>        RAND  adds randomness
</span></span><span style="display:flex;"><span>      PKNAME  internal parent kernel device name
</span></span><span style="display:flex;"><span>        HCTL  Host:Channel:Target:Lun <span style="color:#66d9ef">for</span> SCSI
</span></span><span style="display:flex;"><span>        TRAN  device transport type
</span></span><span style="display:flex;"><span>         REV  device revision
</span></span><span style="display:flex;"><span>      VENDOR  device vendor
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For more details see lsblk<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>.
</span></span></code></pre></div><h3 id="常见用法-3">常见用法</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 打印所有设备（树状形式）</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -a</span>
</span></span><span style="display:flex;"><span>NAME   MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>vda    253:0    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span>└─vda1 253:1    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> part /
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NAME : 这是块设备名。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># MAJ:MIN : 本栏显示主要和次要设备号。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># RM : 本栏显示设备是否可移动设备。1说明是可移动设备。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SIZE : 本栏列出设备的容量大小信息。例如40G表明该设备大小为40GB。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># RO : 该项表明设备是否为只读。0表明不是只读的。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># TYPE :本栏显示块设备是否是磁盘或磁盘上的一个分区。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># MOUNTPOINT : 本栏指出设备挂载的挂载点。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 以列表形式打印</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -l</span>
</span></span><span style="display:flex;"><span>NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>vda  253:0    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span>vda1 253:1    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> part /
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不打印从属设备</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -d</span>
</span></span><span style="display:flex;"><span>NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>vda  253:0    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> disk
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 打印文件系统和UUID</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -f</span>
</span></span><span style="display:flex;"><span>NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
</span></span><span style="display:flex;"><span>vda                                                      
</span></span><span style="display:flex;"><span>└─vda1 ext4         9f2d3e15-a78a-4f3d-8385-0165b4b67864 /
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 打印关于每个设备的丢弃能力(TRIM, UNMAP)的信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -D</span>
</span></span><span style="display:flex;"><span>NAME   DISC-ALN DISC-GRAN DISC-MAX DISC-ZERO
</span></span><span style="display:flex;"><span>vda           <span style="color:#ae81ff">0</span>        0B       0B         <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>└─vda1        <span style="color:#ae81ff">0</span>        0B       0B         <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 打印设别全路径</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -p</span>
</span></span><span style="display:flex;"><span>NAME        MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>/dev/vda    253:0    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span>└─/dev/vda1 253:1    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> part /
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 打印反向依赖关系</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -s</span>
</span></span><span style="display:flex;"><span>NAME  MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
</span></span><span style="display:flex;"><span>vda1  253:1    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> part /
</span></span><span style="display:flex;"><span>└─vda 253:0    <span style="color:#ae81ff">0</span>  40G  <span style="color:#ae81ff">0</span> disk 
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 输出块设备拓扑信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -t</span>
</span></span><span style="display:flex;"><span>NAME   ALIGNMENT MIN-IO OPT-IO PHY-SEC LOG-SEC ROTA SCHED       RQ-SIZE   RA WSAME
</span></span><span style="display:flex;"><span>vda            <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">512</span>      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">512</span>     <span style="color:#ae81ff">512</span>    <span style="color:#ae81ff">1</span> mq-deadline     <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">4096</span>    0B
</span></span><span style="display:flex;"><span>└─vda1         <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">512</span>      <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">512</span>     <span style="color:#ae81ff">512</span>    <span style="color:#ae81ff">1</span> mq-deadline     <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">4096</span>    0B
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 列出一个特定设备的拥有关系，同时也可以列出组和模式</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># lsblk -m</span>
</span></span><span style="display:flex;"><span>NAME   SIZE OWNER GROUP MODE
</span></span><span style="display:flex;"><span>vda     40G root  disk  brw-rw----
</span></span><span style="display:flex;"><span>└─vda1  40G root  disk  brw-rw----
</span></span></code></pre></div><h2 id="磁盘格式化挂载卸载">磁盘格式化，挂载/卸载</h2>
<blockquote>
<p>磁盘新分好区了，使用lsblk -f查看时唯一的区别是：旧的硬盘分区都有一个UUID和挂载目录MOUNTPOINT，而新建的硬盘分区是没有的。就需要完成硬盘分区的格式化与目录挂载。所谓格式化，其实就是安装文件系统。</p>
</blockquote>
<h3 id="格式化">格式化</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkfs --help</span>
</span></span><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span> mkfs <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-t &lt;type&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>fs-options<span style="color:#f92672">]</span> &lt;device&gt; <span style="color:#f92672">[</span>&lt;size&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Options:
</span></span><span style="display:flex;"><span> -t, --type<span style="color:#f92672">=</span>&lt;type&gt;  filesystem type; when unspecified, ext2 is used
</span></span><span style="display:flex;"><span>     fs-options     parameters <span style="color:#66d9ef">for</span> the real filesystem builder
</span></span><span style="display:flex;"><span>     &lt;device&gt;       path to the device to be used
</span></span><span style="display:flex;"><span>     &lt;size&gt;         number of blocks to be used on the device
</span></span><span style="display:flex;"><span> -V, --verbose      explain what is being <span style="color:#66d9ef">done</span>;
</span></span><span style="display:flex;"><span>                      specifying -V more than once will cause a dry-run
</span></span><span style="display:flex;"><span> -V, --version      display version information and exit;
</span></span><span style="display:flex;"><span>                      -V as --version must be the only option
</span></span><span style="display:flex;"><span> -h, --help         display this help text and exit
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For more information see mkfs<span style="color:#f92672">(</span>8<span style="color:#f92672">)</span>.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 如把分区sdb1格式化为ext4文件系统</span>
</span></span><span style="display:flex;"><span>mkfs -t ext4 /dev/sdb1
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 或者是</span>
</span></span><span style="display:flex;"><span>mkfs.ext4 /dev/sdb1
</span></span><span style="display:flex;"><span>mkfs.xfs /dev/vdb <span style="color:#75715e"># 格式化为xfs文件系统</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 查看支持的文件系统</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># mkfs (输入mkfs按两下tab键)</span>
</span></span><span style="display:flex;"><span>mkfs         mkfs.btrfs   mkfs.cramfs  mkfs.ext2    mkfs.ext3    mkfs.ext4    mkfs.minix   mkfs.xfs 
</span></span></code></pre></div><h3 id="目录挂载">目录挂载</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir -p /data;        <span style="color:#75715e">#新建一个目录用于挂载新硬盘</span>
</span></span><span style="display:flex;"><span>mount /dev/sdb1 /data;   <span style="color:#75715e">#挂载新硬盘到目录</span>
</span></span></code></pre></div><p>完成格式化和挂载后，此时再使用<code>lsblk -f</code>查看分区，可以看到该分区的<code>UUID</code>和<code>MOUNTPOINT</code>都有值了。使用<code>df -h</code>也可以查看挂载结果。</p>
<h3 id="自动挂载">自动挂载</h3>
<p>上面完成的挂载关系，在操作系统<strong>重启之后就失效</strong>了。如果希望下次操作系统重启的时候自动挂载，需要在<code>/etc/fstab</code>文件中添加下面的一行记录实现自动挂载。</p>
<p>参数说明可参考： <a href="https://help.aliyun.com/document_detail/194379.htm?spm=a2c4g.11186623.0.0.15757d02qNoM4R#task-2000719">https://help.aliyun.com/document_detail/194379.htm?spm=a2c4g.11186623.0.0.15757d02qNoM4R#task-2000719</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>/dev/sdb1  /data  ext4 defaults <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>如果是root用户，也可使用以下命令修改<code>/etc/fstab</code>：</p>
<p>参考 <a href="https://help.aliyun.com/document_detail/131111.html">https://help.aliyun.com/document_detail/131111.html</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>echo <span style="color:#e6db74">`</span>blkid /dev/sdb1 | awk <span style="color:#e6db74">&#39;{print $2}&#39;</span> | sed <span style="color:#e6db74">&#39;s/\&#34;//g&#39;</span><span style="color:#e6db74">`</span> /data ext4 defaults <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> &gt;&gt; /etc/fstab
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在本机上试试看echo的内容</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@iZbp15qc4wmx335c268l5mZ ~<span style="color:#f92672">]</span><span style="color:#75715e"># echo `blkid /dev/vda1 | awk &#39;{print $2}&#39; | sed &#39;s/\&#34;//g&#39;` /data ext4 defaults 0 0</span>
</span></span><span style="display:flex;"><span>UUID<span style="color:#f92672">=</span>9f2d3e15-a78a-4f3d-8385-0165b4b67864 /data ext4 defaults <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 其中blkid命令是查看分区的uuid</span>
</span></span></code></pre></div><p>执行如下命令会重新加载配置文件，并使其生效：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mount -a
</span></span></code></pre></div><h3 id="目录卸载">目录卸载</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>umount /media/test  <span style="color:#75715e"># 将挂载在/media/test 目录下的文件系统卸载</span>
</span></span><span style="display:flex;"><span>umount -f  /media/test <span style="color:#75715e"># 强制卸载</span>
</span></span></code></pre></div><h2 id="参考链接">参考链接</h2>
<p><a href="https://www.runoob.com/linux/linux-filesystem.html">https://www.runoob.com/linux/linux-filesystem.html</a></p>
<p><a href="https://www.cnblogs.com/hls-code/p/16333387.html">https://www.cnblogs.com/hls-code/p/16333387.html</a></p>
<p><a href="https://www.11meigui.com/2021/df-command-in-linux.html">https://www.11meigui.com/2021/df-command-in-linux.html</a></p>
<p><a href="https://blog.csdn.net/weixin_52122271/article/details/126242445">https://blog.csdn.net/weixin_52122271/article/details/126242445</a></p>
<p><a href="https://www.cnblogs.com/my-first-blog-lgz/p/16115867.html">https://www.cnblogs.com/my-first-blog-lgz/p/16115867.html</a></p>
<p><a href="https://www.cnblogs.com/machangwei-8/p/10353683.html">https://www.cnblogs.com/machangwei-8/p/10353683.html</a></p>
<p><a href="https://www.cnblogs.com/zouhong/p/16109600.html">https://www.cnblogs.com/zouhong/p/16109600.html</a></p>
<p><a href="https://www.cnblogs.com/joshua317/p/15407969.html">https://www.cnblogs.com/joshua317/p/15407969.html</a></p>
<p><a href="https://www.cnblogs.com/aozhejin/p/15845945.html">https://www.cnblogs.com/aozhejin/p/15845945.html</a></p>
<p><a href="https://www.cnblogs.com/machangwei-8/p/10403533.html">https://www.cnblogs.com/machangwei-8/p/10403533.html</a></p>
<p><a href="https://www.cnblogs.com/my-show-time/p/16858420.html">https://www.cnblogs.com/my-show-time/p/16858420.html</a></p>
<p><a href="https://www.yingsoo.com/news/servers/67277.html">https://www.yingsoo.com/news/servers/67277.html</a></p>
<p><a href="https://www.cnblogs.com/zimug/p/16316110.html">https://www.cnblogs.com/zimug/p/16316110.html</a></p>
<p><a href="https://blog.csdn.net/K_520_W/article/details/124132566">https://blog.csdn.net/K_520_W/article/details/124132566</a></p>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mr-1.5 mb-1.5 rounded-lg bg-black/[3%] px-5 py-2 no-underline dark:bg-white/[8%]"
      href="http://pipony.github.io/tags/linux"
      >Linux</a
    >
    
  </footer>
  

  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a
      class="flex w-1/2 items-center rounded-l-md p-6 pr-3 no-underline hover:bg-black/[2%]"
      href="http://pipony.github.io/post/workspace/01-tech/database/mysql%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA/"
      ><span class="mr-1.5">←</span><span>Mysql导入导出</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 no-underline hover:bg-black/[2%]"
      href="http://pipony.github.io/post/workspace/01-tech/java/%E7%BC%96%E8%AF%91%E6%9C%9F%E5%B8%B8%E9%87%8F/"
      ><span>编译期常量</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  

  
  

  
  
  <div class="mt-24" id="graphcomment"></div>
  <script type="text/javascript">
    var __semio__params = {
      graphcommentId: 'YOUR_GRAPH_COMMENT_ID',
      behaviour: {
        
      },
      
    };

    function __semio__onload() {
      __semio__gc_graphlogin(__semio__params);
    }

    (function () {
      var gc = document.createElement('script');
      gc.type = 'text/javascript';
      gc.async = true;
      gc.onload = __semio__onload;
      gc.defer = true;
      gc.src =
        'https://integration.graphcomment.com/gc_graphlogin.js?' + Date.now();
      (
        document.getElementsByTagName('head')[0] ||
        document.getElementsByTagName('body')[0]
      ).appendChild(gc);
    })();
  </script>
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2023
    <a class="link" href="http://pipony.github.io/"></a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >▷ Paper 6</a
  >
</footer>

  </body>
</html>
